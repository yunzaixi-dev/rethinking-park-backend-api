# 生产环境配置
# Production Environment Configuration

# 应用配置
APP_NAME=Rethinking Park Backend API
APP_VERSION=2.0.0
DEBUG=false
ENVIRONMENT=production
API_V1_STR=/api/v1

# 文件上传配置
MAX_UPLOAD_SIZE=10485760
ALLOWED_IMAGE_EXTENSIONS=.jpg,.jpeg,.png,.gif,.bmp,.webp

# CORS配置
ALLOWED_ORIGINS=https://rethinkingpark.com,https://admin.rethinkingpark.com
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=*

# 速率限制配置
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600

# 数据库配置
DATABASE_URL=postgresql://prod_user:prod_password@prod-db:5432/rethinking_park_prod
DATABASE_HOST=prod-db
DATABASE_PORT=5432
DATABASE_NAME=rethinking_park_prod
DATABASE_USER=prod_user
DATABASE_PASSWORD=prod_password
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600
DATABASE_ECHO=false
DATABASE_ECHO_POOL=false

# 读写分离配置
READ_DATABASE_URL=postgresql://read_user:read_password@read-db:5432/rethinking_park_prod
ENABLE_READ_WRITE_SPLIT=true

# Redis缓存配置
REDIS_ENABLED=true
REDIS_URL=redis://prod-redis:6379
REDIS_HOST=prod-redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=prod_redis_password
REDIS_USERNAME=
REDIS_MAX_CONNECTIONS=50
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# 缓存TTL配置
CACHE_TTL_HOURS=24
CACHE_TTL_SECONDS=86400
SHORT_CACHE_TTL_SECONDS=300
LONG_CACHE_TTL_SECONDS=604800

# 内存缓存配置
MEMORY_CACHE_ENABLED=true
MEMORY_CACHE_MAX_SIZE=1000
MEMORY_CACHE_TTL_SECONDS=300

# 缓存键前缀
CACHE_KEY_PREFIX=rethinking_park_prod

# 图像哈希配置
ENABLE_DUPLICATE_DETECTION=true
SIMILARITY_THRESHOLD=5

# Google Cloud配置
GOOGLE_CLOUD_PROJECT_ID=rethinking-park-prod
GOOGLE_CLOUD_STORAGE_BUCKET=rethinking-park-prod-images
GOOGLE_APPLICATION_CREDENTIALS=/app/credentials/service-account-key.json
GOOGLE_CLOUD_REGION=us-central1

# Google Vision API配置
GOOGLE_VISION_ENABLED=true
GOOGLE_VISION_MAX_RESULTS=10
GOOGLE_VISION_TIMEOUT=30

# 监控配置
MONITORING_ENABLED=true
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8000
METRICS_ENDPOINT=/metrics

# 日志配置
LOG_LEVEL=WARNING
LOG_FORMAT=json
LOG_FILE=/app/logs/app.log
LOG_MAX_SIZE=104857600
LOG_BACKUP_COUNT=20

# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_TIMEOUT=5

# 外部API配置
EXTERNAL_API_TIMEOUT=30
EXTERNAL_API_RETRIES=3
EXTERNAL_API_BACKOFF_FACTOR=0.3

# Webhook配置
WEBHOOK_ENABLED=true
WEBHOOK_URL=https://webhook.rethinkingpark.com/api/webhook
WEBHOOK_SECRET=prod_webhook_secret
WEBHOOK_TIMEOUT=10