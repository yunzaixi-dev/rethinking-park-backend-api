FROM python:3.11-slim

# 设置工作目录
WORKDIR /app

# 复制应用代码
COPY . .

# 简单测试 - 检查文件结构
RUN ls -la
RUN ls -la app/
RUN python -c "import sys; print('Python path:', sys.path)"

# 测试导入
RUN python -c "from app.main import app; print('Import successful')"

# 启动命令
CMD ["python", "-c", "from app.main import app; print('App loaded successfully')"]